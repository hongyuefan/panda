webpackJsonp([4],{161:function(e,t,a){function i(e){a(298)}var s=a(29)(a(213),a(368),i,"data-v-72ab13c0",null);e.exports=s.exports},169:function(e,t,a){"use strict";t.__esModule=!0;var i=a(68),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}},178:function(e,t,a){e.exports=a.p+"static/img/avatar.5656b06.png"},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(169),s=a.n(i),n=a(67),o=a(30);a.n(o);t.default={data:function(){return{emailState:"",passwordState:"",nickNameState:"",email:"",username:"",password:"",captcha:"",isLogin:!0,isForget:!1,agreeValue:!1,popupVisible:!1,base64Data:"",codeId:"",emailCode:""}},computed:s()({},a.i(n.a)({english:function(e){return e.english},userName:function(e){return e.userName}})),created:function(){},mounted:function(){this.userName&&(this.email=this.uesrName)},watch:{email:function(){},password:function(){},agreeValue:function(e,t){},isLogin:function(e,t){e||this.getCodeSrc(),this.email="",this.password=""},isForget:function(e,t){this.getCodeSrc(),this.email="",this.password=""}},methods:{login:function(){this.$store.dispatch("setLogin",{userName:"",passWord:""})},emailBlur:function(){console.log("--blur--")},getCodeSrc:function(){var e=this;this.$store.dispatch("getCodebase64",{cb:function(t){e.base64Data=t.pngBase64,e.codeId=t.codeId}})},loginFn:function(){var e=this,t=this;this.email?this.password?(console.log(this.email),this.$store.dispatch("setLogin",{userName:t.email,passWord:t.password}).then(function(){return e.$router.push({meta:{auth:!0},path:"/home"}),e.$store.dispatch("setLogin")})):a.i(o.MessageBox)("","请输入账号密码"):a.i(o.MessageBox)("","请输入账号邮箱")},toRegist:function(){this.isLogin=!1,this.isForget=!1},registFn:function(){var e=this;if(!/^[A-Za-z0-9]{6,20}$/.test(this.password))return void a.i(o.MessageBox)("提示","密码需由6-20位数字和字母组合而成！");this.agreeValue?this.$store.dispatch("getValidateCode",{params:{codeId:e.codeId,verifyValue:e.captcha},cb:function(t){var i=this;console.log(t),t.errors?a.i(o.Toast)({message:"图片验证码不正确",position:"middle",duration:2e3}):(e.$store.dispatch("setLogin",{userName:e.email,passWord:e.password}).then(function(){return i.$store.dispatch("setLogin")}),e.$router.push({meta:{auth:!0},path:"/home"}))}}):a.i(o.Toast)({message:"请先同意协议",position:"middle",duration:2e3})},forgetFn:function(){this.isForget=!0},forgetBackLogin:function(){this.isForget=!1},registBackLogin:function(){this.isLogin=!0,this.isForget=!1},changeLanguage:function(){this.$store.commit("ENGLISH",!this.english)},forgetOKFn:function(){var e=this;if(!/^[A-Za-z0-9]{6,20}$/.test(this.password))return void a.i(o.MessageBox)("提示","密码需由6-20位数字和字母组合而成！");this.$store.dispatch("setForgetpassword",{params:{userName:e.email,newPassword:e.password},cb:function(t){var i=this;console.log(t),t.errors?a.i(o.Toast)({message:"验证码不正确",position:"middle",duration:2e3}):(this.$store.dispatch("setLogin",{userName:e.email,passWord:e.password}).then(function(){return i.$store.dispatch("setLogin")}),this.$router.push({meta:{auth:!0},path:"/home"}))}})},sendEmailCode:function(){var e=this;""===this.email?a.i(o.Toast)({message:"请输入邮箱",position:"middle",duration:2e3}):this.$store.dispatch("getSendemail",{params:{email:e.email},cb:function(e){console.log(e)}})}},components:{}}},262:function(e,t,a){var i=a(157);t=e.exports=a(155)(!0),t.push([e.i,".login[data-v-72ab13c0]{background:#00182c url("+i(a(310))+') no-repeat;background-size:contain;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-bottom:0}.login .lang[data-v-72ab13c0]{position:absolute;right:1.333vw;top:1.333vw;content:"viewport-units-buggyfill; right: 1.333vw; top: 1.333vw"}.login .login-con[data-v-72ab13c0]{width:80%}.login .login-con-header-title[data-v-72ab13c0]{color:#fff;font-size:3.733vw;content:"viewport-units-buggyfill; font-size: 3.733vw"}.login .login-logo[data-v-72ab13c0]{display:block;margin:0 auto;width:13.333vw;height:13.333vw;line-height:13.333vw;border-radius:6.667vw;border:1px solid #ccc;background:#fff url('+i(a(178))+') 50% no-repeat;background-size:100% 100%;content:"viewport-units-buggyfill; width: 13.333vw; height: 13.333vw; line-height: 13.333vw; border-radius: 6.667vw"}.login .agree-popup[data-v-72ab13c0]{width:100%;height:100%;background-color:#fff}.login .login-agreement-ck[data-v-72ab13c0]{display:inline-block;vertical-align:middle}.login .login-agreement-con[data-v-72ab13c0]{color:rgba(255,192,203,.8);margin:2.667vw auto;content:"viewport-units-buggyfill; margin: 2.667vw auto"}.login .login-agreement-con input[data-v-72ab13c0]{vertical-align:middle}.login .login-field[data-v-72ab13c0]{margin:1.333vw 0;border-radius:.667vw;content:"viewport-units-buggyfill; margin: 1.333vw 0; border-radius: 0.667vw"}.login .login-btn[data-v-72ab13c0]{margin:2.667vw auto;content:"viewport-units-buggyfill; margin: 2.667vw auto"}',"",{version:3,sources:["/Users/huigeek/lxh/myPro/github/Hcat/src/pages/login.vue"],names:[],mappings:"AAAA,wBAAwB,2DAAwD,wBAAwB,oBAAoB,oBAAoB,aAAa,qBAAqB,uBAAuB,yBAAyB,sBAAsB,mBAAmB,wBAAwB,4BAA4B,6BAA6B,0BAA0B,sBAAsB,gBAAgB,CAAC,8BAA8B,kBAAkB,cAAc,YAAY,gEAAgE,CAAC,mCAAmC,SAAS,CAAC,gDAAgD,WAAW,kBAAkB,sDAAsD,CAAC,oCAAoC,cAAc,cAAc,eAAe,gBAAgB,qBAAqB,sBAAsB,sBAAsB,4DAA4D,0BAA0B,oHAAoH,CAAC,qCAAqC,WAAW,YAAY,qBAAqB,CAAC,4CAA4C,qBAAqB,qBAAqB,CAAC,6CAA6C,2BAA2B,oBAAoB,wDAAwD,CAAC,mDAAmD,qBAAqB,CAAC,qCAAqC,iBAAiB,qBAAqB,6EAA6E,CAAC,mCAAmC,oBAAoB,wDAAwD,CAAC",file:"login.vue",sourcesContent:['.login[data-v-72ab13c0]{background:#00182c url(../assets/img/bg2.jpg) no-repeat;background-size:contain;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-bottom:0}.login .lang[data-v-72ab13c0]{position:absolute;right:1.333vw;top:1.333vw;content:"viewport-units-buggyfill; right: 1.333vw; top: 1.333vw"}.login .login-con[data-v-72ab13c0]{width:80%}.login .login-con-header-title[data-v-72ab13c0]{color:#fff;font-size:3.733vw;content:"viewport-units-buggyfill; font-size: 3.733vw"}.login .login-logo[data-v-72ab13c0]{display:block;margin:0 auto;width:13.333vw;height:13.333vw;line-height:13.333vw;border-radius:6.667vw;border:1px solid #ccc;background:#fff url(../assets/img/avatar.png) 50% no-repeat;background-size:100% 100%;content:"viewport-units-buggyfill; width: 13.333vw; height: 13.333vw; line-height: 13.333vw; border-radius: 6.667vw"}.login .agree-popup[data-v-72ab13c0]{width:100%;height:100%;background-color:#fff}.login .login-agreement-ck[data-v-72ab13c0]{display:inline-block;vertical-align:middle}.login .login-agreement-con[data-v-72ab13c0]{color:rgba(255,192,203,.8);margin:2.667vw auto;content:"viewport-units-buggyfill; margin: 2.667vw auto"}.login .login-agreement-con input[data-v-72ab13c0]{vertical-align:middle}.login .login-field[data-v-72ab13c0]{margin:1.333vw 0;border-radius:.667vw;content:"viewport-units-buggyfill; margin: 1.333vw 0; border-radius: 0.667vw"}.login .login-btn[data-v-72ab13c0]{margin:2.667vw auto;content:"viewport-units-buggyfill; margin: 2.667vw auto"}'],sourceRoot:""}])},298:function(e,t,a){var i=a(262);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(156)("6a855236",i,!0,{})},310:function(e,t,a){e.exports=a.p+"static/img/bg2.6476b9a.jpg"},368:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login page"},[e.isLogin?a("div",{staticClass:"login-con"},[a("div",{staticClass:"lang"},[a("mt-button",{staticClass:"iconfont",class:{"icon-yingwenyuyan":e.english,"icon-zhongwenyuyan":!e.english},nativeOn:{click:function(t){return e.changeLanguage(t)}}})],1),e._v(" "),e.isForget?a("div",[a("div",[a("div",{staticClass:"tac login-btn"},[a("div",{staticClass:"login-logo"},[e.english?a("span",[e._v("Forget")]):a("span",[e._v("忘记密码")])]),e._v(" "),a("div",{staticClass:"login-con-header-title"},[e.english?a("span",[e._v("tsxm")]):a("span",[e._v("太上熊猫")])])]),e._v(" "),a("div",{staticClass:"login-con-body"},[e.english?a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱",placeholder:"Please enter the email",state:"success"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"验证码"},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}},[a("img",{attrs:{src:e.base64Data,height:"45px",width:"100px"},on:{click:function(t){e.getCodeSrc()}}})]),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"Please enter a new password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"Please enter your new password again",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱",placeholder:"请输入邮箱",state:"success"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"验证码"},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}},[a("img",{attrs:{src:e.base64Data,height:"45px",width:"100px"},on:{click:function(t){e.getCodeSrc()}}})]),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"请输入新密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"请再次输入新密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("div",{staticClass:"tac login-btn"},[a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.forgetOKFn(t)}}},[e.english?a("span",[e._v("OK")]):a("span",[e._v("确定")])]),e._v(" "),a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.forgetBackLogin(t)}}},[e.english?a("span",[e._v("Back")]):a("span",[e._v("返回登录")])])],1)])])]):a("div",[a("div",{staticClass:"tac login-btn"},[a("div",{staticClass:"login-logo tac"},[e.english?a("span",[e._v("Login")]):a("span",[e._v("登录")])]),e._v(" "),a("div",{staticClass:"login-con-header-title"},[e.english?a("span",[e._v("tsxm")]):a("span",[e._v("太上熊猫")])])]),e._v(" "),a("div",[e.english?a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"Email",placeholder:"Please enter the email",state:e.emailState},on:{blur:function(t){e.emailBlur()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"Password",placeholder:"Please enter the password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱",placeholder:"请输入邮箱",state:e.emailState},on:{blur:function(t){e.emailBlur()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("div",{staticClass:"tac login-btn"},[a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.loginFn(t)}}},[e.english?a("span",[e._v("Login")]):a("span",[e._v("登录")])]),e._v(" "),a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.toRegist(t)}}},[e.english?a("span",[e._v("Regist")]):a("span",[e._v("注册")])]),e._v(" "),a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.forgetFn(t)}}},[e.english?a("span",[e._v("Forget")]):a("span",[e._v("忘记密码")])])],1)])])]):a("div",{staticClass:"login-con"},[a("div",[a("div",{staticClass:"tac login-btn"},[a("div",{staticClass:"login-logo"},[e.english?a("span",[e._v("Regist")]):a("span",[e._v("注册")])]),e._v(" "),a("div",{staticClass:"login-con-header-title"},[e.english?a("span",[e._v("tsxm")]):a("span",[e._v("太上熊猫")])])]),e._v(" "),a("div",{staticClass:"login-con-body"},[e.english?a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱",placeholder:"Please enter the email",state:"success"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"eamil code",placeholder:"Please enter the email"},model:{value:e.emailCode,callback:function(t){e.emailCode=t},expression:"emailCode"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"昵称",placeholder:"Please enter the nickname",attr:{maxlength:10}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"Please enter the password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"验证码"},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}},[a("img",{attrs:{src:e.base64Data,height:"45px",width:"100px"},on:{click:function(t){e.getCodeSrc()}}})])],1):a("div",[a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱",placeholder:"请输入邮箱",state:"success"},nativeOn:{mouseout:function(t){return e.sendEmailCode(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"邮箱验证码",placeholder:"请输入邮箱验证码"},model:{value:e.emailCode,callback:function(t){e.emailCode=t},expression:"emailCode"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"昵称",placeholder:"请输入昵称",attr:{maxlength:10}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("mt-field",{staticClass:"login-field",attrs:{label:"验证码"},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}},[a("img",{attrs:{src:e.base64Data,height:"45px",width:"100px"},on:{click:function(t){e.getCodeSrc()}}})])],1),e._v(" "),a("div",{staticClass:"login-agreement-con"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.agreeValue,expression:"agreeValue"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.agreeValue)?e._i(e.agreeValue,null)>-1:e.agreeValue},on:{change:function(t){var a=e.agreeValue,i=t.target,s=!!i.checked;if(Array.isArray(a)){var n=e._i(a,null);i.checked?n<0&&(e.agreeValue=a.concat([null])):n>-1&&(e.agreeValue=a.slice(0,n).concat(a.slice(n+1)))}else e.agreeValue=s}}}),e._v(" "),a("span",[e._v("同意协议")]),e._v(" "),a("span",{staticClass:"login-field",on:{click:function(t){e.popupVisible=!0}}},[e.english?a("span",[e._v("right popup")]):a("span",[e._v("查看协议内容")])])]),e._v(" "),a("div",{staticClass:"tac login-btn"},[a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.registFn(t)}}},[e.english?a("span",[e._v("Regist")]):a("span",[e._v("注册")])]),e._v(" "),a("mt-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.registBackLogin(t)}}},[e.english?a("span",[e._v("Return")]):a("span",[e._v("返回登录")])])],1)])])]),e._v(" "),a("mt-popup",{staticClass:"agree-popup",attrs:{position:"right",modal:!1},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[a("mt-button",{attrs:{size:"large",type:"default"},nativeOn:{click:function(t){e.popupVisible=!1}}},[e.english?a("span",[e._v("close popup")]):a("span",[e._v("关闭 popup")])]),e._v(" "),a("div",[e.english?a("span",[e._v("Protocol content")]):a("span",[e._v("协议内容")])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.ccf75030ca820f3b38f9.js.map